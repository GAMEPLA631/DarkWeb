<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Pridanie Zombie emoji (üßü) priamo do titulku. Toto je najspoƒæahlivej≈°√≠ sp√¥sob, ako vyn√∫ti≈• zobrazenie ikony (namiesto gl√≥busu), ak prehliadaƒç podporuje emoji v titulkoch. -->
    <title>Dark Web - 3. Okt√≥ber</title>
    <!-- Favicon (Ikona pre z√°lo≈æku/gl√≥bus): Pou≈æ√≠vame Zombie emoji aj ako favicon cez SVG Data URI, ƒço je niekedy pre prehliadaƒçe spoƒæahlivej≈°ie ako len text. -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üßü</text></svg>">
    <!-- Star√° Web ikona (Favicon) v Base64 je odstr√°nen√°, nech√°vame len emoji SVG -->
    <!-- Naƒç√≠tanie Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        /* Nastavenie p√≠sma Inter a temn√©ho pozadia */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d0d0d; /* Veƒæmi tmav√© pozadie */
            color: #f3f4f6; /* Svetl√Ω text */
            line-height: 1.7;
        }
        /* ≈†t√Ωl pripom√≠naj√∫ci "digit√°lny ≈°um" alebo glitch, pre temn√∫ estetiku */
        .glitch-text {
            color: #ff4747; /* Hor√∫ca ƒçerven√° pre titulok */
            text-shadow: 
                0 0 5px rgba(255, 0, 0, 0.5),
                0 0 15px rgba(255, 60, 60, 0.4);
        }
        .main-card {
             /* Estetika "Wix bloku": zaoblen√© rohy, tie≈à, centr√°lne umiestnenie */
            background-color: #1a1a1a;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), 0 0 15px rgba(255, 60, 60, 0.2);
            border: 1px solid #333;
        }
        .date-highlight {
            color: #ff9900; /* Oran≈æov√© zv√Ωraznenie d√°tumu */
            font-weight: 900;
        }
        /* Skryt√Ω posuvn√≠k tela pre lep≈°ie zobrazenie mod√°lneho okna */
        .no-scroll {
            overflow: hidden;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4 sm:p-8">

    <!-- Login Modal/Overlay - Zobraz√≠ sa, ak nie je u≈æ√≠vateƒæ prihl√°sen√Ω -->
    <div id="loginModal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-95 backdrop-blur-sm">
        <div class="bg-gray-800 p-8 sm:p-10 rounded-xl max-w-sm w-full main-card text-center border-red-500/50">
            <h2 class="text-3xl font-black glitch-text mb-4">
                PR√çSTUP ZAMKNUT√ù
            </h2>
            <p class="text-gray-400 mb-6">
                Zadaj svoju ≈°ifrovan√∫ prez√Ωvku pre vstup na Dark Web.
            </p>
            <form id="loginForm">
                <input 
                    type="text" 
                    id="nicknameInput" 
                    placeholder="Tvoja Prez√Ωvka..." 
                    class="w-full p-3 mb-4 bg-gray-900 border border-red-700/50 rounded-lg focus:border-red-500 focus:ring-red-500 text-white placeholder-gray-500" 
                    required 
                    minlength="3"
                >
                <button type="submit" class="w-full py-3 bg-red-600 hover:bg-red-700 font-bold rounded-lg transition duration-300 shadow-md">
                    VST√öPI≈§
                </button>
            </form>
        </div>
    </div>

    <!-- Hlaviƒçka (Navig√°cia) -->
    <header class="w-full max-w-6xl flex justify-between items-center py-4 px-4 sm:px-8 border-b border-red-800/50 mb-8">
        <div class="text-3xl font-black glitch-text tracking-widest">
            Temn√Ω Web
        </div>
        <nav class="hidden md:flex space-x-6 text-sm items-center">
            <a href="#" class="hover:text-red-500 transition duration-300">Domov</a>
            <a href="#" class="hover:text-red-500 transition duration-300">Miestne Legendy</a>
            <a href="#" class="hover:text-red-500 transition duration-300">Arch√≠v</a>
            
            <!-- Oblas≈• pre autentifik√°ciu (Prihl√°senie/Nickname) -->
            <div id="authArea" class="ml-4">
                <!-- Obsah sa dynamicky injektuje pomocou JS -->
            </div>
        </nav>
        <button class="md:hidden text-xl text-red-500 focus:outline-none">&#9776;</button> <!-- Burger Menu -->
    </header>

    <!-- Hlavn√Ω kontajner pre legendu - "Wix Blok" s temn√Ωm mot√≠vom -->
    <main class="w-full max-w-4xl main-card rounded-xl p-6 sm:p-10 mb-10">

        <!-- Sekcia 1: Hlavn√Ω titulok a tlaƒçidlo TTS -->
        <section class="text-center mb-10">
            <h1 class="text-4xl sm:text-6xl font-black mb-3 leading-tight uppercase glitch-text">
                3. Okt√≥ber: Hodina Klopania
            </h1>
            <p class="text-lg sm:text-xl text-gray-400">
                Pravda je len v ≈°epote.
            </p>
            
            <!-- Tlaƒçidlo na spustenie ƒç√≠tania nahlas -->
            <button id="ttsButton" class="mt-4 inline-flex items-center px-6 py-2 border border-red-500 text-sm font-medium rounded-full text-red-500 hover:bg-red-900/40 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
                <!-- Ikonka pre prehra≈• (Play/Speaker) -->
                <svg id="ttsIcon" class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.121-7.072a8 8 0 010 11.314M6 15h2.571l3.543 3.543A1 1 0 0013 18V6a1 1 0 00-1.357-.703L8.571 9H6a1 1 0 00-1 1v4a1 1 0 001 1z"></path></svg>
                Preƒç√≠ta≈• nahlas
            </button>
        </section>

        <div class="h-0.5 w-24 bg-red-600/70 mx-auto mb-10 rounded-full"></div>

        <!-- Sekcia 2: Samotn√° Legenda -->
        <section id="legendText" class="space-y-6 text-gray-300 text-base sm:text-lg">
            
            <p class="font-bold text-red-500 uppercase tracking-wider">
                Miestna Chronika
            </p>

            <p>
                Vo v√§ƒç≈°ine miest je najstra≈°idelnej≈°√≠m d≈àom Halloween. V na≈°om meste, hlboko v tieni star√Ωch ul√≠c, je to v≈°ak <span class="date-highlight">3. okt√≥ber</span>. Nie je to d√°tum spojen√Ω so smr≈•ou kr√°ƒæa alebo veƒækou trag√©diou. Je to nieƒço oveƒæa osobnej≈°ie a tich≈°ie.
            </p>

            <h2 class="text-2xl font-bold mt-8 mb-4 text-red-400">
                Polnoƒçn√° N√°v≈°teva
            </h2>

            <p>
                Ka≈æd√Ω rok, presne v momente, keƒè hodiny udr√∫ <span class="font-bold text-red-300">polnoc z 3. na 4. okt√≥bra</span>, sa zaƒçne dia≈• nieƒço nevysvetliteƒæn√©. Nie pre ka≈æd√©ho. Len pre <strong class="text-red-500">vybran√© du≈°e</strong>, ktor√© s√∫ vo svojich domovoch osamoten√©, zaƒçn√∫ poƒçu≈• zvuk.
            </p>

            <p class="italic text-xl text-center py-4 bg-gray-900/50 border-l-4 border-red-600">
                Tich√©, rytmick√© klopanie na okno. <br> V≈ædy tri √∫dery. V≈ædy tri.
            </p>

            <p>
                Klopanie je tak√© jemn√©, ≈æe ho ƒæahko zamen√≠te za vetvu alebo d√°≈æƒè, ale je tak neuveriteƒæne bl√≠zko, ≈æe m√°te pocit, akoby ten, kto ho rob√≠, st√°l len p√°r centimetrov od v√°s. Keƒè sa odv√°≈æite pozrie≈• von, uvid√≠te len tmu a odraz vlastnej tv√°re. **Nikto tam nie je.**
            </p>

            <h2 class="text-2xl font-bold mt-8 mb-4 text-red-400">
                Legenda o "Noƒçnom Klopaƒçovi"
            </h2>

            <p>
                Star√© babiƒçky hovoria o **Noƒçnom Klopaƒçovi** ‚Äì duchovi star√©ho stol√°ra, ktor√©ho du≈°u zlomila nespravodliv√° kliatba. Kedysi mal zvyk klopa≈• trikr√°t na dreven√© okenice predt√Ωm, ne≈æ vst√∫pil do domu svojich priateƒæov. Teraz sa vracia, hƒæadaj√∫c √∫toƒçisko, a jeho klopanie nie je pozv√°nka, ale **v√Ωber**.
            </p>
            
            <p>
                Ak je klopanie intenz√≠vne, znamen√° to, ≈æe si ≈•a vybral. M√°lokto vie, ƒço sa stane, ak sa ho pok√∫si≈° ignorova≈•. Ale v≈°etci vedia, ƒço sa stane, ak urob√≠≈° osudn√∫ chybu a **otvor√≠≈° dvere**. Legenda hovor√≠, ≈æe ti vezme nielen miesto na spanie, ale aj schopnos≈• opusti≈• ho.
            </p>
            
            <p class="text-center pt-6 text-2xl font-black glitch-text">
                Dnes je 3. okt√≥ber. <span class="block mt-2">Neklop. Neotv√°raj.</span>
            </p>

        </section>
        
        <div class="h-0.5 w-24 bg-red-600/70 mx-auto mt-10 mb-8 rounded-full"></div>

        <!-- Sekcia 3: Call to Action / Upozornenie (Wix-like blok) -->
        <section class="text-center p-6 bg-red-900/30 border-2 border-red-700 rounded-lg">
            <p class="text-xl font-bold text-red-300 mb-3">
                UPOZORNENIE PRE POU≈Ω√çVATEƒΩOV
            </p>
            <p class="text-sm text-gray-400">
                T√°to str√°nka je s√∫ƒças≈•ou siete a jej obsah m√¥≈æe by≈• <strong class="text-red-500">nest√°ly a neoveren√Ω</strong>. Zdieƒæajte tieto pr√≠behy na vlastn√© riziko. Nikdy nezabudnite, ≈æe niektor√© veci by mali zosta≈• <span class="font-bold">nepreƒç√≠tan√©</span>.
            </p>
        </section>
        
    </main>
    
    <!-- P√§tiƒçka -->
    <footer class="w-full max-w-6xl text-center mt-8 text-xs text-gray-600">
        &copy; 2025 Temn√Ω Web. V≈°etky pr√°va s√∫ chr√°nen√© a stra≈°ideln√©.
    </footer>

    <script>
        // === ƒåAS≈§ 1: Text-to-Speech (TTS) Logika ===
        
        const ttsButton = document.getElementById('ttsButton');
        let utterance = null;
        let isSpeaking = false;
        
        // Ikonky
        const playIcon = '<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.121-7.072a8 8 0 010 11.314M6 15h2.571l3.543 3.543A1 1 0 0013 18V6a1 1 0 00-1.357-.703L8.571 9H6a1 1 0 00-1 1v4a1 1 0 001 1z"></path></svg>';
        const stopIcon = '<svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>';

        // Z√≠ska text legendy
        function getTextToRead() {
            const contentElements = document.querySelectorAll('#legendText p, #legendText h2');
            let fullText = 'Legenda o 3. okt√≥bri. ';
            
            contentElements.forEach(el => {
                let text = el.textContent.trim().replace(/\*\*(.*?)\*\*/g, '$1');
                fullText += text + '. ';
            });
            
            const title = document.querySelector('h1').textContent.trim();
            const subtitle = document.querySelector('section.text-center p:not(#ttsButton)').textContent.trim();
            
            return `${title}. ${subtitle}. ${fullText}`;
        }

        // N√°jde SK/CS hlas
        function getSlovakVoice() {
            const voices = window.speechSynthesis.getVoices();
            return voices.find(voice => voice.lang.includes('sk-') || voice.lang.includes('cs-')) || 
                   voices.find(voice => voice.default);
        }

        function setupSpeech() {
            if (!('speechSynthesis' in window)) {
                ttsButton.innerHTML = 'ƒå√≠tanie nepodporovan√© v tomto prehliadaƒçi';
                ttsButton.disabled = true;
                return;
            }

            ttsButton.addEventListener('click', () => {
                if (isSpeaking) {
                    window.speechSynthesis.cancel();
                    isSpeaking = false;
                    ttsButton.innerHTML = playIcon + ' Preƒç√≠ta≈• nahlas';
                } else {
                    const text = getTextToRead();
                    utterance = new SpeechSynthesisUtterance(text);
                    
                    const voice = getSlovakVoice(); 
                    if (voice) {
                        utterance.voice = voice;
                        utterance.lang = voice.lang;
                    } else {
                        utterance.lang = 'sk-SK';
                    }

                    utterance.rate = 1.0;
                    utterance.pitch = 1.0;

                    utterance.onend = () => {
                        isSpeaking = false;
                        ttsButton.innerHTML = playIcon + ' Preƒç√≠ta≈• nahlas';
                    };
                    utterance.onerror = (event) => {
                        console.error('SpeechSynthesis error:', event.error);
                        isSpeaking = false;
                        ttsButton.innerHTML = playIcon + ' Chyba ƒç√≠tania';
                    };

                    window.speechSynthesis.speak(utterance);
                    isSpeaking = true;
                    ttsButton.innerHTML = stopIcon + ' Zastavi≈• ƒç√≠tanie';
                }
            });
        }
        
        // === ƒåAS≈§ 2: Prihl√°senie (Nickname) Logika ===
        
        const loginModal = document.getElementById('loginModal');
        const loginForm = document.getElementById('loginForm');
        const authArea = document.getElementById('authArea');
        const BODY = document.body;
        
        // Zobraz√≠ mod√°lne okno na prihl√°senie
        function showLoginModal() {
            loginModal.classList.remove('hidden');
            BODY.classList.add('no-scroll'); // Zak√°≈æe scroll na pozad√≠
            
            // VYPLNENIE POSLEDNEJ POU≈ΩITEJ PREZ√ùVKY
            const lastNickname = localStorage.getItem('lastUsedNickname');
            const nicknameInput = document.getElementById('nicknameInput');
            if (lastNickname && nicknameInput) {
                nicknameInput.value = lastNickname;
            }
        }

        // Skryje mod√°lne okno a povol√≠ scroll
        function hideLoginModal() {
            loginModal.classList.add('hidden');
            BODY.classList.remove('no-scroll');
        }

        // Aktualizuje hlaviƒçku (zobraz√≠ nickname alebo tlaƒçidlo Prihl√°senie)
        function updateAuthArea(nickname) {
            if (nickname) {
                // Ulo≈æ√≠ prez√Ωvku ako naposledy pou≈æit√∫ (PRE VYPLNENIE FORMUL√ÅRA)
                localStorage.setItem('lastUsedNickname', nickname);

                // Zobrazenie prihl√°sen√©ho stavu s tlaƒçidlom Odhl√°si≈•
                authArea.innerHTML = `
                    <div class="flex items-center space-x-3">
                        <span class="text-red-500 font-bold border-r border-red-800/50 pr-3">
                            ${nickname}
                        </span>
                        <button id="logoutButton" class="text-gray-400 hover:text-red-500 transition duration-300 border px-3 py-1 rounded-full border-gray-600 text-xs">
                            Odhl√°si≈•
                        </button>
                    </div>
                `;
                // Pridanie event listeneru pre odhl√°senie
                document.getElementById('logoutButton').addEventListener('click', handleLogout);
                hideLoginModal();
            } else {
                // Zobrazenie stavu pred prihl√°sen√≠m s tlaƒçidlom Prihl√°senie
                authArea.innerHTML = `
                    <button id="loginButton" class="hover:text-red-500 transition duration-300 border px-3 py-1 rounded-full border-red-500">
                        Prihl√°senie
                    </button>
                `;
                document.getElementById('loginButton').addEventListener('click', showLoginModal);
            }
        }

        // Spracuje prihl√°senie (ulo≈æ√≠ nickname)
        function handleLogin(event) {
            event.preventDefault();
            const nicknameInput = document.getElementById('nicknameInput');
            const nickname = nicknameInput.value.trim();

            if (nickname.length >= 3) {
                // Ulo≈æ√≠ prez√Ωvku, ktor√° udr≈æuje prihl√°senie
                localStorage.setItem('userNickname', nickname); 
                // Ulo≈æ√≠ prez√Ωvku ako naposledy pou≈æit√∫ (pre automatick√© vyplnenie nabud√∫ce)
                localStorage.setItem('lastUsedNickname', nickname);
                
                checkLoginState(); // Op√§tovne skontroluje a aktualizuje UI
            } else {
                // Ak nickname nie je dostatoƒçne dlh√Ω
                nicknameInput.placeholder = "Minim√°lne 3 znaky!";
                nicknameInput.value = '';
                nicknameInput.classList.add('border-yellow-500');
                setTimeout(() => nicknameInput.classList.remove('border-yellow-500'), 1500);
            }
        }

        // Spracuje odhl√°senie (vyma≈æe nickname)
        function handleLogout() {
            // Vyma≈æe akt√≠vny stav prihl√°senia
            localStorage.removeItem('userNickname');
            
            // lastUsedNickname (pre automatick√© vyplnenie) zostane zachovan√Ω
            checkLoginState();
            // Po odhl√°sen√≠ sa vr√°time k mod√°lnemu oknu, kde je prez√Ωvka predvyplnen√°
        }

        // Hlavn√° funkcia na kontrolu stavu
        function checkLoginState() {
            const nickname = localStorage.getItem('userNickname');
            
            updateAuthArea(nickname);
            
            if (!nickname) {
                showLoginModal();
            }
        }

        // Spustenie pri naƒç√≠tan√≠ okna
        window.onload = function () {
            // 1. Nastavenie prihl√°senia
            loginForm.addEventListener('submit', handleLogin);
            checkLoginState();
            
            // 2. Nastavenie ƒç√≠tania nahlas (TTS)
            setupSpeech();
        };
    </script>
</body>
</html>
